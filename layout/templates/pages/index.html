{% extends "base.html" %}

{% block scriptsAndStyles%}
{% endblock%}

{% block mainContent %}
    <div id="fb-root"></div>
      <script>
        window.fbAsyncInit = function() {
          FB.init({
            appId      : '328250827233463',
            status     : true, 
            cookie     : true,
            xfbml      : true,
            oauth      : true,
          });
        };
        (function(d){
           var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
           js = d.createElement('script'); js.id = id; js.async = true;
           js.src = "//connect.facebook.net/en_US/all.js";
           d.getElementsByTagName('head')[0].appendChild(js);
         }(document));
        
        function login(){
            FB.login(function(response) {
                if (response.authResponse && response.authResponse.accessToken) {
                    jQuery.post( "/login", "accessToken=" + response.authResponse.accessToken);
                  //alert('Welcome!  Fetching your information.... ');
                  //FB.api('/me', function(response) {
                  //  console.log('Good to see you, ' + response.name + '.');
                  //});
                } else {
                  alert('User cancelled login or did not fully authorize.');
                }
            });
        };
      </script>
      
    <a class="fb_button fb_button_medium" onclick="login();">
        <span class="fb_button_text">Login with Facebook</span>
    </a>
{% endblock %}